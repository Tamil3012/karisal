{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/tamil/components/ui/use-toast.ts"],"sourcesContent":["'use client'\n\n// Inspired by react-hot-toast library\nimport * as React from 'react'\n\nimport type { ToastActionElement, ToastProps } from '@/components/ui/toast'\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: 'ADD_TOAST',\n  UPDATE_TOAST: 'UPDATE_TOAST',\n  DISMISS_TOAST: 'DISMISS_TOAST',\n  REMOVE_TOAST: 'REMOVE_TOAST',\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType['ADD_TOAST']\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType['UPDATE_TOAST']\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType['DISMISS_TOAST']\n      toastId?: ToasterToast['id']\n    }\n  | {\n      type: ActionType['REMOVE_TOAST']\n      toastId?: ToasterToast['id']\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: 'REMOVE_TOAST',\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case 'ADD_TOAST':\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case 'UPDATE_TOAST':\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t,\n        ),\n      }\n\n    case 'DISMISS_TOAST': {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      }\n    }\n    case 'REMOVE_TOAST':\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, 'id'>\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: 'UPDATE_TOAST',\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: 'DISMISS_TOAST', toastId: id })\n\n  dispatch({\n    type: 'ADD_TOAST',\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: 'DISMISS_TOAST', toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/tamil/components/dashboard/blog-form.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useToast } from \"@/hooks/use-toast\"\n\ninterface BlogFormProps {\n  blog: any\n  onSave: (data: any) => void\n  onCancel: () => void\n}\n\nexport default function BlogForm({ blog, onSave, onCancel }: BlogFormProps) {\n  const [formData, setFormData] = useState({\n    title: \"\",\n    excerpt: \"\",\n    contentHtml: \"\",\n    author: \"\",\n    status: 1,\n    featured: 0,\n    categoryIds: [] as string[],\n    images: [] as string[],\n    video: \"\",\n  })\n\n  const [categories, setCategories] = useState<{ id: string; name: string }[]>([])\n  const { toast } = useToast()\n\n  useEffect(() => {\n    fetchCategories()\n    if (blog) {\n      setFormData({\n        ...blog,\n        categoryIds: blog.categoryIds || [],\n        images: blog.images || [],\n      })\n    }\n  }, [blog])\n\n  const fetchCategories = async () => {\n    try {\n      const response = await fetch(\"/api/categories\")\n      const data = await response.json()\n      setCategories(data)\n    } catch (error) {\n      console.error(\"Failed to fetch categories:\", error)\n    }\n  }\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    const { name, value } = e.target\n    setFormData((prev) => ({ ...prev, [name]: value }))\n  }\n\n  const handleToggle = (field: \"status\" | \"featured\") => {\n    setFormData((prev) => ({\n      ...prev,\n      [field]: prev[field] === 1 ? 0 : 1,\n    }))\n  }\n\n  const handleCategoryToggle = (catId: string) => {\n    setFormData((prev) => ({\n      ...prev,\n      categoryIds: prev.categoryIds.includes(catId)\n        ? prev.categoryIds.filter((id) => id !== catId)\n        : [...prev.categoryIds, catId],\n    }))\n  }\n\n  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files\n    if (!files) return\n\n    for (const file of files) {\n      const formDataFile = new FormData()\n      formDataFile.append(\"file\", file)\n\n      try {\n        const response = await fetch(\"/api/upload\", {\n          method: \"POST\",\n          body: formDataFile,\n        })\n        const data = await response.json()\n        setFormData((prev) => ({\n          ...prev,\n          images: [...prev.images, data.url],\n        }))\n        toast({ title: \"Success\", description: \"Image uploaded\" })\n      } catch (error) {\n        toast({ title: \"Error\", description: \"Upload failed\", variant: \"destructive\" })\n      }\n    }\n  }\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    onSave(formData)\n  }\n\n  const removeImage = (index: number) => {\n    setFormData((prev) => ({\n      ...prev,\n      images: prev.images.filter((_, i) => i !== index),\n    }))\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-6 mb-8 border\">\n      <h3 className=\"text-2xl font-bold mb-6 text-gray-800\">\n        {blog ? \"Edit Blog\" : \"Create New Blog\"}\n      </h3>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Title & Author */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Title</label>\n            <input\n              type=\"text\"\n              name=\"title\"\n              value={formData.title}\n              onChange={handleInputChange}\n              required\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n              placeholder=\"Enter blog title\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Author</label>\n            <input\n              type=\"text\"\n              name=\"author\"\n              value={formData.author}\n              onChange={handleInputChange}\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition\"\n              placeholder=\"Author name\"\n            />\n          </div>\n        </div>\n\n        {/* Excerpt */}\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Excerpt</label>\n          <textarea\n            name=\"excerpt\"\n            value={formData.excerpt}\n            onChange={handleInputChange}\n            rows={3}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n            placeholder=\"Short description...\"\n          />\n        </div>\n\n        {/* Content */}\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Content (HTML)</label>\n          <textarea\n            name=\"contentHtml\"\n            value={formData.contentHtml}\n            onChange={handleInputChange}\n            rows={10}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm resize-vertical\"\n            placeholder=\"<h1>Blog content...</h1>\"\n          />\n        </div>\n\n        {/* Toggle Switches - Status & Featured */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n          <div className=\"flex items-center justify-between bg-gray-50 p-4 rounded-lg\">\n            <div>\n              <p className=\"font-semibold text-gray-700\">Status</p>\n              <p className=\"text-sm text-gray-500\">{formData.status === 1 ? \"Published\" : \"Draft\"}</p>\n            </div>\n            <label className=\"relative inline-flex items-center cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.status === 1}\n                onChange={() => handleToggle(\"status\")}\n                className=\"sr-only peer\"\n              />\n              <div className=\"w-[46px] h-[25px]  bg-gray-300 peer-focus:outline-none peer-focus:ring-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2.5px] after:left-[3px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500\"></div>\n            </label>\n          </div>\n\n          <div className=\"flex items-center justify-between bg-gray-50 p-4 rounded-lg\">\n            <div>\n              <p className=\"font-semibold text-gray-700\">Featured</p>\n              <p className=\"text-sm text-gray-500\">{formData.featured === 1 ? \"Yes\" : \"No\"}</p>\n            </div>\n            <label className=\"relative inline-flex items-center cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={formData.featured === 1}\n                onChange={() => handleToggle(\"featured\")}\n                className=\"sr-only peer\"\n              />\n              <div className=\"w-[46px] h-[25px]  bg-gray-300 peer-focus:outline-none peer-focus:ring-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2.5px] after:left-[3px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500\"></div>\n            </label>\n          </div>\n        </div>\n\n        {/* Categories */}\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Categories</label>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n            {categories.map((cat) => (\n              <label\n                key={cat.id}\n                className=\"flex items-center gap-3 cursor-pointer p-3 border rounded-lg hover:bg-gray-50 transition\"\n              >\n                <input\n                  type=\"checkbox\"\n                  checked={formData.categoryIds.includes(cat.id)}\n                  onChange={() => handleCategoryToggle(cat.id)}\n                  className=\"w-5 h-5 text-blue-600 rounded focus:ring-blue-500\"\n                />\n                <span className=\"text-sm font-medium\">{cat.name}</span>\n              </label>\n            ))}\n          </div>\n        </div>\n\n        {/* Image Upload */}\n        <div>\n          <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Upload Images</label>\n          <input\n            type=\"file\"\n            multiple\n            accept=\"image/*\"\n            onChange={handleFileUpload}\n            className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-3 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100\"\n          />\n          {formData.images.length > 0 && (\n            <div className=\"mt-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n              {formData.images.map((img, idx) => (\n                <div key={idx} className=\"relative group\">\n                  <img\n                    src={img}\n                    alt={`Upload ${idx + 1}`}\n                    className=\"w-full h-32 object-cover rounded-lg border\"\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => removeImage(idx)}\n                    className=\"absolute top-2 right-2 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center opacity-0 group-hover:opacity-100 transition\"\n                  >\n                    Ã—\n                  </button>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Submit Buttons */}\n        <div className=\"flex gap-4 pt-6\">\n          <Button type=\"submit\" size=\"lg\" className=\"flex-1\">\n            {blog ? \"Update Blog\" : \"Create Blog\"}\n          </Button>\n          <Button type=\"button\" variant=\"outline\" size=\"lg\" onClick={onCancel} className=\"flex-1\">\n            Cancel\n          </Button>\n        </div>\n      </form>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 697, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/tamil/components/dashboard/blog-manager.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport BlogForm from \"./blog-form\"\nimport BlogList from \"./blog-list\"\n\n// Define the Blog type properly\ninterface Blog {\n  id: string\n  title: string\n  author?: string\n  content?: string\n  featured: 0 | 1 | boolean\n  status: 0 | 1 | boolean\n  likes?: number\n  stars?: number\n  views?: number\n  createdAt?: string\n  updatedAt?: string\n}\n\nexport default function BlogManager() {\n  const [blogs, setBlogs] = useState<Blog[]>([])\n  const [showForm, setShowForm] = useState(false)\n  const [editingBlog, setEditingBlog] = useState<Blog | null>(null)\n  const [loading, setLoading] = useState(true)\n  const { toast } = useToast()\n\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [suggestions, setSuggestions] = useState<string[]>([])\n  const [currentPage, setCurrentPage] = useState(1)\n  const ITEMS_PER_PAGE = 10\n\n  useEffect(() => {\n    fetchBlogs()\n  }, [])\n\n  const fetchBlogs = async () => {\n    try {\n      const response = await fetch(\"/api/admin/blogs\")\n      if (!response.ok) throw new Error(\"Failed to fetch\")\n      const data: Blog[] = await response.json()\n      setBlogs(data)\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to fetch blogs\",\n        variant: \"destructive\",\n      })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleDelete = async (id: string) => {\n    if (!confirm(\"Are you sure you want to delete this blog?\")) return\n\n    try {\n      const response = await fetch(`/api/admin/blogs/${id}`, { method: \"DELETE\" })\n      if (response.ok) {\n        setBlogs(blogs.filter((b) => b.id !== id))\n        toast({ title: \"Success\", description: \"Blog deleted successfully\" })\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to delete blog\",\n        variant: \"destructive\",\n      })\n    }\n  }\n\n  const handleSave = async (blogData: Partial<Blog> & { id?: string }) => {\n    try {\n      const normalizedBlog = {\n        ...blogData,\n        featured: blogData.featured === true || blogData.featured === \"1\" || blogData.featured === 1 ? 1 : 0,\n        status: blogData.status === true || blogData.status === \"1\" || blogData.status === 1 ? 1 : 0,\n        likes: Number(blogData.likes) || 0,\n        stars: Number(blogData.stars) || 0,\n        views: Number(blogData.views) || 0,\n      }\n\n      let response\n      if (editingBlog) {\n        response = await fetch(`/api/admin/blogs/${editingBlog.id}`, {\n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(normalizedBlog),\n        })\n      } else {\n        response = await fetch(\"/api/admin/blogs\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(normalizedBlog),\n        })\n      }\n\n      if (!response.ok) throw new Error(\"Save failed\")\n\n      const savedBlog: Blog = await response.json()\n\n      if (editingBlog) {\n        setBlogs(blogs.map((b) => (b.id === savedBlog.id ? savedBlog : b)))\n        toast({ title: \"Success\", description: \"Blog updated successfully\" })\n      } else {\n        setBlogs([...blogs, savedBlog])\n        toast({ title: \"Success\", description: \"Blog created successfully\" })\n      }\n\n      setShowForm(false)\n      setEditingBlog(null)\n    } catch (error) {\n      console.error(error)\n      toast({\n        title: \"Error\",\n        description: \"Failed to save blog\",\n        variant: \"destructive\",\n      })\n    }\n  }\n\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value\n    setSearchQuery(value)\n    setCurrentPage(1)\n\n    if (value.trim()) {\n      const matches = blogs\n        .filter((b) => b.title.toLowerCase().includes(value.toLowerCase()))\n        .map((b) => b.title)\n      setSuggestions([...new Set(matches)].slice(0, 6))\n    } else {\n      setSuggestions([])\n    }\n  }\n\n  const handleSuggestionClick = (title: string) => {\n    setSearchQuery(title)\n    setSuggestions([])\n    setCurrentPage(1)\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div>Loading blogs...</div>\n      </div>\n    )\n  }\n\n  const totalBlogs = blogs.length\n  const activeBlogs = blogs.filter((b) => b.status === 1 || b.status === true).length\n  const inactiveBlogs = totalBlogs - activeBlogs\n\n  const filteredBlogs = blogs.filter((b) =>\n    b.title.toLowerCase().includes(searchQuery.toLowerCase())\n  )\n\n  const totalPages = Math.max(1, Math.ceil(filteredBlogs.length / ITEMS_PER_PAGE))\n  const paginatedBlogs = filteredBlogs.slice(\n    (currentPage - 1) * ITEMS_PER_PAGE,\n    currentPage * ITEMS_PER_PAGE\n  )\n\n  const goToPage = (page: number) => {\n    setCurrentPage(page)\n    window.scrollTo({ top: 0, behavior: \"smooth\" })\n  }\n\n  return (\n    <div className=\"container mx-auto py-8 max-w-7xl\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8\">\n        <h2 className=\"text-2xl sm:text-3xl font-bold\">Blog Posts</h2>\n        <Button\n          onClick={() => {\n            setShowForm(true)\n            setEditingBlog(null)\n          }}\n        >\n          Add New Blog\n        </Button>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6 bg-muted/50 p-4 rounded-lg\">\n        <div className=\"text-center sm:text-left\">\n          <p className=\"text-sm text-muted-foreground\">Total Blogs</p>\n          <p className=\"text-2xl font-bold\">{totalBlogs}</p>\n        </div>\n        <div className=\"text-center sm:text-left\">\n          <p className=\"text-sm text-muted-foreground\">Active</p>\n          <p className=\"text-2xl font-bold text-green-600\">{activeBlogs}</p>\n        </div>\n        <div className=\"text-center sm:text-left\">\n          <p className=\"text-sm text-muted-foreground\">Inactive</p>\n          <p className=\"text-2xl font-bold text-red-600\">{inactiveBlogs}</p>\n        </div>\n      </div>\n\n      {/* Search Bar */}\n      <div className=\"relative mb-8\">\n        <input\n          type=\"text\"\n          value={searchQuery}\n          onChange={handleSearchChange}\n          placeholder=\"Search blogs by title...\"\n          className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        {/* {suggestions.length > 0 && (\n          <ul className=\"absolute z-20 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto\">\n            {suggestions.map((sug, i) => (\n              <li\n                key={i}\n                onClick={() => handleSuggestionClick(sug)}\n                className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer text-sm\"\n              >\n                {sug}\n              </li>\n            ))}\n          </ul>\n        )} */}\n      </div>\n\n      {/* Form */}\n      {showForm && (\n        <div className=\"mb-10\">\n          <BlogForm\n            blog={editingBlog}\n            onSave={handleSave}\n            onCancel={() => {\n              setShowForm(false)\n              setEditingBlog(null)\n            }}\n          />\n        </div>\n      )}\n\n      {/* Blog List with Responsive Table */}\n      <div className=\"overflow-x-auto mb-10\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Title</th>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Author</th>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Featured</th>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Views</th>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {paginatedBlogs.map((blog) => (\n              <tr key={blog.id}>\n                <td className=\"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">{blog.title}</td>\n                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">{blog.author || 'Unknown'}</td>\n                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {blog.status === 1 || blog.status === true ? 'Active' : 'Inactive'}\n                </td>\n                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  {blog.featured === 1 || blog.featured === true ? 'Yes' : 'No'}\n                </td>\n                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">{blog.views || 0}</td>\n                <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  <div className=\"flex space-x-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => {\n                        setEditingBlog(blog)\n                        setShowForm(true)\n                      }}\n                    >\n                      Edit\n                    </Button>\n                    <Button\n                      variant=\"destructive\"\n                      size=\"sm\"\n                      onClick={() => handleDelete(blog.id)}\n                    >\n                      Delete\n                    </Button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        {paginatedBlogs.length === 0 && (\n          <div className=\"text-center py-8 text-gray-500\">No blogs found.</div>\n        )}\n      </div>\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"flex flex-wrap justify-center gap-2 mt-10\">\n          {Array.from({ length: totalPages }, (_, i) => (\n            <Button\n              key={i + 1}\n              onClick={() => goToPage(i + 1)}\n              variant={currentPage === i + 1 ? \"default\" : \"outline\"}\n              size=\"sm\"\n            >\n              {i + 1}\n            </Button>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1231, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/tamil/components/dashboard/category-manager.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useEffect, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { Trash2, Edit2 } from \"lucide-react\"\n\nexport default function CategoryManager() {\n  const [categories, setCategories] = useState([])\n  const [showForm, setShowForm] = useState(false)\n  const [editingId, setEditingId] = useState(null)\n  const [formData, setFormData] = useState({ name: \"\", slug: \"\" })\n  const { toast } = useToast()\n\n  useEffect(() => {\n    fetchCategories()\n  }, [])\n\n  const fetchCategories = async () => {\n    try {\n      const response = await fetch(\"/api/categories\")\n      const data = await response.json()\n      setCategories(data)\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Failed to fetch categories\", variant: \"destructive\" })\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    try {\n      if (editingId) {\n        const response = await fetch(`/api/admin/categories/${editingId}`, {\n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(formData),\n        })\n        if (response.ok) {\n          fetchCategories()\n          toast({ title: \"Success\", description: \"Category updated\" })\n        }\n      } else {\n        const response = await fetch(\"/api/admin/categories\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(formData),\n        })\n        if (response.ok) {\n          fetchCategories()\n          toast({ title: \"Success\", description: \"Category created\" })\n        }\n      }\n      setShowForm(false)\n      setEditingId(null)\n      setFormData({ name: \"\", slug: \"\" })\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Operation failed\", variant: \"destructive\" })\n    }\n  }\n\n  const handleDelete = async (id: string) => {\n    if (!confirm(\"Delete this category?\")) return\n    try {\n      const response = await fetch(`/api/admin/categories/${id}`, { method: \"DELETE\" })\n      if (response.ok) {\n        fetchCategories()\n        toast({ title: \"Success\", description: \"Category deleted\" })\n      }\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Failed to delete\", variant: \"destructive\" })\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-3xl font-bold\">Categories</h2>\n        <Button\n          onClick={() => {\n            setShowForm(true)\n            setEditingId(null)\n            setFormData({ name: \"\", slug: \"\" })\n          }}\n        >\n          Add Category\n        </Button>\n      </div>\n\n      {showForm && (\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Name</label>\n              <input\n                type=\"text\"\n                value={formData.name}\n                onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Slug</label>\n              <input\n                type=\"text\"\n                value={formData.slug}\n                onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n              />\n            </div>\n            <div className=\"flex gap-4\">\n              <Button type=\"submit\" className=\"flex-1\">\n                {editingId ? \"Update\" : \"Create\"}\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => {\n                  setShowForm(false)\n                  setEditingId(null)\n                }}\n                className=\"flex-1\"\n              >\n                Cancel\n              </Button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-50 border-b\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold\">Name</th>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold\">Slug</th>\n              <th className=\"px-6 py-3 text-right text-sm font-semibold\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {categories.map((cat: any) => (\n              <tr key={cat.id} className=\"border-b hover:bg-gray-50\">\n                <td className=\"px-6 py-4\">{cat.name}</td>\n                <td className=\"px-6 py-4\">{cat.slug}</td>\n                <td className=\"px-6 py-4 text-right\">\n                  <div className=\"flex justify-end gap-2\">\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => {\n                        setEditingId(cat.id)\n                        setFormData(cat)\n                        setShowForm(true)\n                      }}\n                    >\n                      <Edit2 size={16} />\n                    </Button>\n                    <Button size=\"sm\" variant=\"destructive\" onClick={() => handleDelete(cat.id)}>\n                      <Trash2 size={16} />\n                    </Button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1632, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/tamil/components/dashboard/color-manager.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useToast } from \"@/hooks/use-toast\"\n\nexport default function ColorManager() {\n  const [colors, setColors] = useState({\n    primary: \"#1E3A8A\",\n    secondary: \"#06B6D4\",\n    accent: \"#F97316\",\n    muted: \"#6B7280\",\n  })\n  const [loading, setLoading] = useState(true)\n  const { toast } = useToast()\n\n  useEffect(() => {\n    fetchColors()\n  }, [])\n\n  const fetchColors = async () => {\n    try {\n      const response = await fetch(\"/api/colors\")\n      const data = await response.json()\n      setColors(data)\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Failed to fetch colors\", variant: \"destructive\" })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleColorChange = (key: string, value: string) => {\n    setColors({ ...colors, [key]: value })\n  }\n\n  const handleSave = async () => {\n    try {\n      const response = await fetch(\"/api/admin/colors\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(colors),\n      })\n\n      if (response.ok) {\n        // Apply colors immediately to CSS variables\n        const root = document.documentElement\n        Object.entries(colors).forEach(([key, value]) => {\n          root.style.setProperty(`--color-${key}`, value)\n        })\n\n        toast({ title: \"Success\", description: \"Colors updated\" })\n      }\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Failed to update colors\", variant: \"destructive\" })\n    }\n  }\n\n  if (loading) return <div>Loading...</div>\n\n  return (\n    <div>\n      <h2 className=\"text-3xl font-bold mb-6\">Site Colors</h2>\n\n      <div className=\"bg-white rounded-lg shadow p-6 max-w-2xl\">\n        <div className=\"space-y-6\">\n          {Object.entries(colors).map(([key, value]) => (\n            <div key={key} className=\"flex items-center gap-4\">\n              <label className=\"text-sm font-medium w-24 capitalize\">{key}</label>\n              <div className=\"flex items-center gap-3\">\n                <input\n                  type=\"color\"\n                  value={value}\n                  onChange={(e) => handleColorChange(key, e.target.value)}\n                  className=\"w-12 h-12 rounded cursor-pointer border border-gray-300\"\n                />\n                <input\n                  type=\"text\"\n                  value={value}\n                  onChange={(e) => handleColorChange(key, e.target.value)}\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 font-mono\"\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"mt-8 pt-6 border-t border-gray-200\">\n          <h3 className=\"font-bold mb-4\">Preview</h3>\n          <div className=\"flex gap-4 flex-wrap\">\n            {Object.entries(colors).map(([key, value]) => (\n              <div key={key} className=\"text-center\">\n                <div className=\"w-16 h-16 rounded-lg shadow\" style={{ backgroundColor: value }} />\n                <p className=\"text-xs mt-2 capitalize\">{key}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <Button onClick={handleSave} className=\"w-full mt-6\">\n          Save Colors\n        </Button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;QACnC,SAAS;QACT,WAAW;QACX,QAAQ;QACR,OAAO;IACT;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,iIAAQ;IAE1B,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,UAAU;QACZ,EAAE,OAAO,OAAO;YACd,MAAM;gBAAE,OAAO;gBAAS,aAAa;gBAA0B,SAAS;YAAc;QACxF,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,oBAAoB,CAAC,KAAa;QACtC,UAAU;YAAE,GAAG,MAAM;YAAE,CAAC,IAAI,EAAE;QAAM;IACtC;IAEA,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,qBAAqB;gBAChD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,4CAA4C;gBAC5C,MAAM,OAAO,SAAS,eAAe;gBACrC,OAAO,OAAO,CAAC,QAAQ,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM;oBAC1C,KAAK,KAAK,CAAC,WAAW,CAAC,CAAC,QAAQ,EAAE,KAAK,EAAE;gBAC3C;gBAEA,MAAM;oBAAE,OAAO;oBAAW,aAAa;gBAAiB;YAC1D;QACF,EAAE,OAAO,OAAO;YACd,MAAM;gBAAE,OAAO;gBAAS,aAAa;gBAA2B,SAAS;YAAc;QACzF;IACF;IAEA,IAAI,SAAS,qBAAO,8OAAC;kBAAI;;;;;;IAEzB,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACZ,OAAO,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBACvC,8OAAC;gCAAc,WAAU;;kDACvB,8OAAC;wCAAM,WAAU;kDAAuC;;;;;;kDACxD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,MAAK;gDACL,OAAO;gDACP,UAAU,CAAC,IAAM,kBAAkB,KAAK,EAAE,MAAM,CAAC,KAAK;gDACtD,WAAU;;;;;;0DAEZ,8OAAC;gDACC,MAAK;gDACL,OAAO;gDACP,UAAU,CAAC,IAAM,kBAAkB,KAAK,EAAE,MAAM,CAAC,KAAK;gDACtD,WAAU;;;;;;;;;;;;;+BAbN;;;;;;;;;;kCAoBd,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAiB;;;;;;0CAC/B,8OAAC;gCAAI,WAAU;0CACZ,OAAO,OAAO,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,iBACvC,8OAAC;wCAAc,WAAU;;0DACvB,8OAAC;gDAAI,WAAU;gDAA8B,OAAO;oDAAE,iBAAiB;gDAAM;;;;;;0DAC7E,8OAAC;gDAAE,WAAU;0DAA2B;;;;;;;uCAFhC;;;;;;;;;;;;;;;;kCAQhB,8OAAC,qIAAM;wBAAC,SAAS;wBAAY,WAAU;kCAAc;;;;;;;;;;;;;;;;;;AAM7D"}},
    {"offset": {"line": 1856, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/tamil/components/dashboard/dashboard-sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { Home, Users, Activity, FileText, Archive, Bell, Mail, LogOut, ChevronRight, Menu } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\n\ninterface DashboardSidebarProps {\n  activeTab: string\n  setActiveTab: (tab: string) => void\n  onLogout: () => void\n  isOpen: boolean\n  toggleOpen: () => void\n}\n\nexport default function DashboardSidebar({ activeTab, setActiveTab, onLogout, isOpen, toggleOpen }: DashboardSidebarProps) {\n  const menuItems = [\n    {\n      section: \"ADMIN\",\n      items: [\n        { id: \"dashboard\", label: \"Dashboard\", icon: Home },\n        // { id: \"users\", label: \"Users\", icon: Users, hasArrow: true },\n        // { id: \"activities\", label: \"Activities\", icon: Activity },\n      ],\n    },\n    {\n      section: \"BLOG\",\n      items: [\n        { id: \"blogs\", label: \"Post\", icon: FileText },\n        { id: \"categories\", label: \"Categories\", icon: Archive },\n      ],\n    },\n    {\n      section: \"PERSONAL\",\n      items: [\n        // { id: \"notifications\", label: \"Notifications\", icon: Bell, badge: \"5\" },\n        { id: \"links\", label: \"Links\", icon: Mail, badge: \"2 New\" },\n      ],\n    },\n  ]\n\n  return (\n    <div className=\"flex flex-col h-screen bg-[#f8f4f3] border-r border-gray-300\">\n      {/* Header */}\n      <div className=\"p-3 flex items-center mx-auto justify-between\">\n        {/* Logo Circle + Text */}\n        <div className=\"flex items-center justify-between  w-full \">\n          {/* Orange Circle Logo */}\n          <div className=\"w-10 h-10 rounded-full bg-orange-400 flex items-center justify-center shadow-md\">\n            <span className=\"text-white font-black text-xl\">L</span>\n          </div>\n\n          {/* LOREM Text - Hidden when collapsed */}\n          <h2 className={`font-black text-2xl tracking-tight text-gray-900 transition-all duration-300 ${isOpen ? \"block opacity-100\" : \"hidden opacity-0\"}`}>\n            LOREM\n          </h2>\n        </div>\n\n        {/* Hamburger - Only on Mobile */}\n        <button\n          onClick={toggleOpen}\n          className=\"p-2 rounded-lg hover:bg-gray-200 transition md:hidden block\"\n        >\n          <Menu size={24} className=\"text-gray-700\" />\n        </button>\n      </div>\n\n      <div className=\"w-[90%] h-[2px] rounded-[4px] bg-gray-200 mx-auto\"></div>\n\n      {/* Navigation */}\n      <nav className=\"flex-1 px-4 py-6 space-y-8 overflow-y-auto\">\n        {menuItems.map((section) => (\n          <div key={section.section}>\n            {/* Section Title */}\n            <p className={`text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 px-2 transition-all duration-300 ${isOpen ? \"block opacity-100\" : \"hidden opacity-0\"}`}>\n              {section.section}\n            </p>\n\n            <div className=\"space-y-1\">\n              {section.items.map((item) => {\n                const Icon = item.icon\n                const isActive = activeTab === item.id\n\n                return (\n                  <button\n                    key={item.id}\n                    onClick={() => setActiveTab(item.id)}\n                    className={`w-full flex items-center px-4 py-3 rounded-lg transition-all font-semibold text-sm group relative\n                      ${isActive \n                        ? \"bg-gray-950 text-white shadow-md\" \n                        : \"text-gray-700 hover:bg-gray-100 hover:text-gray-900\"\n                      } ${!isOpen && \"justify-center\"}`}\n                  >\n                    {/* Icon + Label */}\n                    <div className={`flex items-center ${isOpen ? \"gap-3\" : \"gap-0\"}`}>\n                      <Icon size={20} className={isActive ? \"text-white\" : \"text-gray-600\"} />\n                      <span className={`transition-all duration-300 ${isOpen ? \"block\" : \"hidden\"}`}>\n                        {item.label}\n                      </span>\n                    </div>\n\n                    {/* Badge & Arrow - Only when open */}\n                    <div className={`absolute right-4 flex items-center gap-2 transition-all duration-300 ${isOpen ? \"block\" : \"hidden\"}`}>\n                      {item.badge && (\n                        <span className={`text-xs px-2.5 py-0.5 rounded-full font-medium ${\n                          item.badge.includes(\"New\")\n                            ? \"bg-green-100 text-green-700\"\n                            : \"bg-red-100 text-red-700\"\n                        }`}>\n                          {item.badge}\n                        </span>\n                      )}\n                      {item.hasArrow && (\n                        <ChevronRight size={16} className={isActive ? \"text-white/70\" : \"text-gray-400\"} />\n                      )}\n                    </div>\n                  </button>\n                )\n              })}\n            </div>\n          </div>\n        ))}\n      </nav>\n\n      {/* Logout Button */}\n      <div className=\"p-4 border-t border-gray-300\">\n        <Button\n          onClick={onLogout}\n          className={`w-full bg-gray-950 hover:bg-black text-white font-semibold rounded-lg py-6 flex items-center transition-all ${\n            isOpen ? \"justify-center gap-3\" : \"justify-center\"\n          }`}\n        >\n          <LogOut size={20} />\n          <span className={`transition-all duration-300 ${isOpen ? \"block\" : \"hidden\"}`}>\n            Logout\n          </span>\n        </Button>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAHA;;;;AAae,SAAS,iBAAiB,EAAE,SAAS,EAAE,YAAY,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,EAAyB;IACvH,MAAM,YAAY;QAChB;YACE,SAAS;YACT,OAAO;gBACL;oBAAE,IAAI;oBAAa,OAAO;oBAAa,MAAM,2MAAI;gBAAC;aAGnD;QACH;QACA;YACE,SAAS;YACT,OAAO;gBACL;oBAAE,IAAI;oBAAS,OAAO;oBAAQ,MAAM,0NAAQ;gBAAC;gBAC7C;oBAAE,IAAI;oBAAc,OAAO;oBAAc,MAAM,mNAAO;gBAAC;aACxD;QACH;QACA;YACE,SAAS;YACT,OAAO;gBACL,2EAA2E;gBAC3E;oBAAE,IAAI;oBAAS,OAAO;oBAAS,MAAM,0MAAI;oBAAE,OAAO;gBAAQ;aAC3D;QACH;KACD;IAED,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAK,WAAU;8CAAgC;;;;;;;;;;;0CAIlD,8OAAC;gCAAG,WAAW,CAAC,6EAA6E,EAAE,SAAS,sBAAsB,oBAAoB;0CAAE;;;;;;;;;;;;kCAMtJ,8OAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,8OAAC,0MAAI;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;;;;;;;0BAI9B,8OAAC;gBAAI,WAAU;;;;;;0BAGf,8OAAC;gBAAI,WAAU;0BACZ,UAAU,GAAG,CAAC,CAAC,wBACd,8OAAC;;0CAEC,8OAAC;gCAAE,WAAW,CAAC,+FAA+F,EAAE,SAAS,sBAAsB,oBAAoB;0CAChK,QAAQ,OAAO;;;;;;0CAGlB,8OAAC;gCAAI,WAAU;0CACZ,QAAQ,KAAK,CAAC,GAAG,CAAC,CAAC;oCAClB,MAAM,OAAO,KAAK,IAAI;oCACtB,MAAM,WAAW,cAAc,KAAK,EAAE;oCAEtC,qBACE,8OAAC;wCAEC,SAAS,IAAM,aAAa,KAAK,EAAE;wCACnC,WAAW,CAAC;sBACV,EAAE,WACE,qCACA,sDACH,CAAC,EAAE,CAAC,UAAU,kBAAkB;;0DAGnC,8OAAC;gDAAI,WAAW,CAAC,kBAAkB,EAAE,SAAS,UAAU,SAAS;;kEAC/D,8OAAC;wDAAK,MAAM;wDAAI,WAAW,WAAW,eAAe;;;;;;kEACrD,8OAAC;wDAAK,WAAW,CAAC,4BAA4B,EAAE,SAAS,UAAU,UAAU;kEAC1E,KAAK,KAAK;;;;;;;;;;;;0DAKf,8OAAC;gDAAI,WAAW,CAAC,qEAAqE,EAAE,SAAS,UAAU,UAAU;;oDAClH,KAAK,KAAK,kBACT,8OAAC;wDAAK,WAAW,CAAC,+CAA+C,EAC/D,KAAK,KAAK,CAAC,QAAQ,CAAC,SAChB,gCACA,2BACJ;kEACC,KAAK,KAAK;;;;;;oDAGd,KAAK,QAAQ,kBACZ,8OAAC,sOAAY;wDAAC,MAAM;wDAAI,WAAW,WAAW,kBAAkB;;;;;;;;;;;;;uCA5B/D,KAAK,EAAE;;;;;gCAiClB;;;;;;;uBA9CM,QAAQ,OAAO;;;;;;;;;;0BAqD7B,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,qIAAM;oBACL,SAAS;oBACT,WAAW,CAAC,4GAA4G,EACtH,SAAS,yBAAyB,kBAClC;;sCAEF,8OAAC,oNAAM;4BAAC,MAAM;;;;;;sCACd,8OAAC;4BAAK,WAAW,CAAC,4BAA4B,EAAE,SAAS,UAAU,UAAU;sCAAE;;;;;;;;;;;;;;;;;;;;;;;AAOzF"}},
    {"offset": {"line": 2118, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/tamil/components/dashboard/link-manager.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useEffect, useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { Trash2, Edit2 } from \"lucide-react\"\n\nexport default function LinkManager() {\n  const [links, setLinks] = useState([])\n  const [showForm, setShowForm] = useState(false)\n  const [editingId, setEditingId] = useState(null)\n  const [formData, setFormData] = useState({ title: \"\", href: \"\" })\n  const { toast } = useToast()\n\n  useEffect(() => {\n    fetchLinks()\n  }, [])\n\n  const fetchLinks = async () => {\n    try {\n      const response = await fetch(\"/api/links\")\n      const data = await response.json()\n      setLinks(data)\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Failed to fetch links\", variant: \"destructive\" })\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    try {\n      if (editingId) {\n        const response = await fetch(`/api/admin/links/${editingId}`, {\n          method: \"PUT\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(formData),\n        })\n        if (response.ok) {\n          fetchLinks()\n          toast({ title: \"Success\", description: \"Link updated\" })\n        }\n      } else {\n        const response = await fetch(\"/api/admin/links\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(formData),\n        })\n        if (response.ok) {\n          fetchLinks()\n          toast({ title: \"Success\", description: \"Link created\" })\n        }\n      }\n      setShowForm(false)\n      setEditingId(null)\n      setFormData({ title: \"\", href: \"\" })\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Operation failed\", variant: \"destructive\" })\n    }\n  }\n\n  const handleDelete = async (id: string) => {\n    if (!confirm(\"Delete this link?\")) return\n    try {\n      const response = await fetch(`/api/admin/links/${id}`, { method: \"DELETE\" })\n      if (response.ok) {\n        fetchLinks()\n        toast({ title: \"Success\", description: \"Link deleted\" })\n      }\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Failed to delete\", variant: \"destructive\" })\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-3xl font-bold\">Links</h2>\n        <Button\n          onClick={() => {\n            setShowForm(true)\n            setEditingId(null)\n            setFormData({ title: \"\", href: \"\" })\n          }}\n        >\n          Add Link\n        </Button>\n      </div>\n\n      {showForm && (\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">Title</label>\n              <input\n                type=\"text\"\n                value={formData.title}\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">URL</label>\n              <input\n                type=\"url\"\n                value={formData.href}\n                onChange={(e) => setFormData({ ...formData, href: e.target.value })}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n                required\n              />\n            </div>\n            <div className=\"flex gap-4\">\n              <Button type=\"submit\" className=\"flex-1\">\n                {editingId ? \"Update\" : \"Create\"}\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => {\n                  setShowForm(false)\n                  setEditingId(null)\n                }}\n                className=\"flex-1\"\n              >\n                Cancel\n              </Button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-50 border-b\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold\">Title</th>\n              <th className=\"px-6 py-3 text-left text-sm font-semibold\">URL</th>\n              <th className=\"px-6 py-3 text-right text-sm font-semibold\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {links.map((link: any) => (\n              <tr key={link.id} className=\"border-b hover:bg-gray-50\">\n                <td className=\"px-6 py-4\">{link.title}</td>\n                <td className=\"px-6 py-4 text-blue-600 underline\">\n                  <a href={link.href} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {link.href}\n                  </a>\n                </td>\n                <td className=\"px-6 py-4 text-right\">\n                  <div className=\"flex justify-end gap-2\">\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => {\n                        setEditingId(link.id)\n                        setFormData(link)\n                        setShowForm(true)\n                      }}\n                    >\n                      <Edit2 size={16} />\n                    </Button>\n                    <Button size=\"sm\" variant=\"destructive\" onClick={() => handleDelete(link.id)}>\n                      <Trash2 size={16} />\n                    </Button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2529, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/tamil/app/dashboard/DashboardNav.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useRef, useEffect } from \"react\"\r\nimport { Search, Bell, Maximize2, LogOut, User, Menu } from \"lucide-react\"\r\n\r\ninterface DashboardNavProps {\r\n  userName: string\r\n  userRole: string\r\n  onLogout: () => void\r\n  sidebarOpen: boolean\r\n  toggleSidebar: () => void\r\n}\r\n\r\nexport default function DashboardNav({ userName, userRole, onLogout, sidebarOpen, toggleSidebar }: DashboardNavProps) {\r\n  const [openMenu, setOpenMenu] = useState(false)\r\n  const menuRef = useRef<HTMLDivElement>(null)\r\n\r\n  const toggleFullscreen = () => {\r\n    if (document.fullscreenElement) document.exitFullscreen()\r\n    else document.documentElement.requestFullscreen()\r\n  }\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\r\n        setOpenMenu(false)\r\n      }\r\n    }\r\n    document.addEventListener(\"mousedown\", handleClickOutside)\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"bg-[#f8f4f3] px-6 py-3 flex items-center shadow-md shadow-black/5 sticky top-0 z-30\">\r\n      {/* Always Visible Hamburger */}\r\n      <button\r\n        onClick={toggleSidebar}\r\n        className=\"text-gray-700 hover:text-gray-900 mr-6\"\r\n      >\r\n        <Menu size={28} />\r\n      </button>\r\n\r\n      <div className=\"flex items-center gap-4 ml-auto relative\" ref={menuRef}>\r\n        <button className=\"text-gray-400 hover:text-gray-600 w-10 h-10 flex items-center justify-center rounded\">\r\n          <Search size={22} />\r\n        </button>\r\n\r\n        <button className=\"text-gray-400 hover:text-gray-600 w-10 h-10 flex items-center justify-center rounded relative\">\r\n          <Bell size={22} />\r\n          <span className=\"absolute top-1 right-1 w-3 h-3 bg-lime-400 border-2 border-white rounded-full\"></span>\r\n        </button>\r\n\r\n        <button onClick={toggleFullscreen} className=\"text-gray-400 hover:text-gray-600 w-10 h-10 flex items-center justify-center rounded\">\r\n          <Maximize2 size={22} />\r\n        </button>\r\n\r\n        <button\r\n          className=\"flex items-center gap-3 pl-4 border-l border-gray-300\"\r\n          onClick={() => setOpenMenu(!openMenu)}\r\n        >\r\n          <div className=\"w-10 h-10 relative\">\r\n            <div className=\"p-1 bg-white rounded-full\">\r\n              <div className=\"w-8 h-8 bg-green-400 rounded-full flex items-center justify-center\">\r\n                <span className=\"text-sm font-bold text-white\">\r\n                  {userName?.slice(0, 2).toUpperCase()}\r\n                </span>\r\n              </div>\r\n              <div className=\"top-0 left-7 absolute w-3 h-3 bg-lime-400 border-2 border-white rounded-full animate-ping\"></div>\r\n              <div className=\"top-0 left-7 absolute w-3 h-3 bg-lime-500 border-2 border-white rounded-full\"></div>\r\n            </div>\r\n          </div>\r\n          {/* <div className=\"hidden md:block text-left\">\r\n            <h2 className=\"text-sm font-semibold text-gray-800\">{userName}</h2>\r\n            <p className=\"text-xs text-gray-500\">{userRole}</p>\r\n          </div> */}\r\n        </button>\r\n\r\n        {openMenu && (\r\n          <div className=\"absolute right-0 top-16 bg-white shadow-xl rounded-[8px] w-52 z-50 p-[4px]\">\r\n            <button className=\"w-full px-4 py-2 flex items-center gap-2 rounded-[8px] text-gray-700 hover:bg-gray-100\">\r\n              <User size={16} /> Profile\r\n            </button>\r\n            <button\r\n              onClick={onLogout}\r\n              className=\"w-full px-4 py-2 flex items-center gap-2 rounded-[8px] text-red-600 hover:bg-red-100\"\r\n            >\r\n              <LogOut size={16} /> Logout\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;;;;AAae,SAAS,aAAa,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,aAAa,EAAqB;IAClH,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,UAAU,IAAA,+MAAM,EAAiB;IAEvC,MAAM,mBAAmB;QACvB,IAAI,SAAS,iBAAiB,EAAE,SAAS,cAAc;aAClD,SAAS,eAAe,CAAC,iBAAiB;IACjD;IAEA,IAAA,kNAAS,EAAC;QACR,MAAM,qBAAqB,CAAC;YAC1B,IAAI,QAAQ,OAAO,IAAI,CAAC,QAAQ,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;gBACtE,YAAY;YACd;QACF;QACA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;IACzD,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBACC,SAAS;gBACT,WAAU;0BAEV,cAAA,8OAAC,0MAAI;oBAAC,MAAM;;;;;;;;;;;0BAGd,8OAAC;gBAAI,WAAU;gBAA2C,KAAK;;kCAC7D,8OAAC;wBAAO,WAAU;kCAChB,cAAA,8OAAC,gNAAM;4BAAC,MAAM;;;;;;;;;;;kCAGhB,8OAAC;wBAAO,WAAU;;0CAChB,8OAAC,0MAAI;gCAAC,MAAM;;;;;;0CACZ,8OAAC;gCAAK,WAAU;;;;;;;;;;;;kCAGlB,8OAAC;wBAAO,SAAS;wBAAkB,WAAU;kCAC3C,cAAA,8OAAC,6NAAS;4BAAC,MAAM;;;;;;;;;;;kCAGnB,8OAAC;wBACC,WAAU;wBACV,SAAS,IAAM,YAAY,CAAC;kCAE5B,cAAA,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAK,WAAU;sDACb,UAAU,MAAM,GAAG,GAAG;;;;;;;;;;;kDAG3B,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;oBASpB,0BACC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,WAAU;;kDAChB,8OAAC,0MAAI;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAEpB,8OAAC;gCACC,SAAS;gCACT,WAAU;;kDAEV,8OAAC,oNAAM;wCAAC,MAAM;;;;;;oCAAM;;;;;;;;;;;;;;;;;;;;;;;;;AAOlC"}},
    {"offset": {"line": 2749, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/tamil/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useToast } from \"@/components/ui/use-toast\";\n\nimport BlogManager from \"@/components/dashboard/blog-manager\";\nimport CategoryManager from \"@/components/dashboard/category-manager\";\nimport ColorManager from \"@/components/dashboard/color-manager\";\nimport DashboardSidebar from \"@/components/dashboard/dashboard-sidebar\";\nimport LinkManager from \"@/components/dashboard/link-manager\";\nimport DashboardHeader from \"@/components/header\";\nimport DashboardNav from \"./DashboardNav\";\n\ninterface BlogStats {\n  totalBlogs: number;\n  totalCategories: number;\n  totalLinks: number;\n}\n\nexport default function DashboardPage() {\n  const [activeTab, setActiveTab] = useState(\"dashboard\");\n  const [stats, setStats] = useState<BlogStats>({\n    totalBlogs: 0,\n    totalCategories: 0,\n    totalLinks: 0,\n  });\n  const [loading, setLoading] = useState(true);\n  const [sidebarOpen, setSidebarOpen] = useState(true); // Start expanded on large screens\n\n  const router = useRouter();\n  const { toast } = useToast();\n\n  useEffect(() => {\n    const loadStats = async () => {\n      try {\n        setLoading(true);\n        const [blogsRes, categoriesRes, linksRes] = await Promise.all([\n          fetch(\"/api/blogs\"),\n          fetch(\"/api/categories\"),\n          fetch(\"/api/links\"),\n        ]);\n\n        if (!blogsRes.ok || !categoriesRes.ok || !linksRes.ok) {\n          throw new Error(\"Failed to fetch dashboard data\");\n        }\n\n        const blogs = await blogsRes.json();\n        const categories = await categoriesRes.json();\n        const links = await linksRes.json();\n\n        setStats({\n          totalBlogs: Array.isArray(blogs)\n            ? blogs.filter((b: any) => b.status === 1).length\n            : 0,\n          totalCategories: Array.isArray(categories) ? categories.length : 0,\n          totalLinks: Array.isArray(links) ? links.length : 0,\n        });\n      } catch (error) {\n        console.error(\"Failed to load dashboard stats:\", error);\n        toast({\n          title: \"Error\",\n          description: \"Failed to load dashboard stats\",\n          variant: \"destructive\",\n        });\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadStats();\n  }, [toast]);\n\n  const handleLogout = async () => {\n    try {\n      const res = await fetch(\"/api/auth/logout\", { method: \"POST\" });\n      if (res.ok) {\n        toast({ title: \"Success\", description: \"Logged out successfully\" });\n        router.push(\"/dashboard/login\");\n      } else {\n        throw new Error(\"Logout failed\");\n      }\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Logout failed. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen bg-gray-50\">\n      {/* Sidebar - Hidden on mobile, collapsible on desktop */}\n      <div\n        className={`fixed inset-y-0 left-0 z-50 bg-[#f8f4f3] border-r border-gray-300 flex flex-col transition-all duration-300 ease-in-out\n          ${sidebarOpen ? \"w-64 translate-x-0\" : \"w-20 -translate-x-full lg:translate-x-0\"}\n          lg:relative lg:z-auto lg:translate-x-0\n        `}\n      >\n        <DashboardSidebar\n          activeTab={activeTab}\n          setActiveTab={setActiveTab}\n          onLogout={handleLogout}\n          isOpen={sidebarOpen}\n          toggleOpen={() => setSidebarOpen(!sidebarOpen)}\n        />\n      </div>\n\n      {/* Overlay for mobile */}\n      {sidebarOpen && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col min-w-0\">\n        {/* Header with Always-Visible Hamburger */}\n        <div className=\"sticky top-0 z-40 bg-white \">\n          <DashboardNav\n            userName=\"Admin User\"\n            userRole=\"Administrator\"\n            onLogout={handleLogout}\n            sidebarOpen={sidebarOpen}\n            toggleSidebar={() => setSidebarOpen(!sidebarOpen)}\n          />\n        </div>\n\n        {/* Main Content */}\n        <main className=\"flex-1 overflow-y-auto\">\n          <div className=\"p-4 lg:p-10 max-w-7xl mx-auto\">\n            {activeTab === \"dashboard\" && (\n              <div className=\"space-y-8\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  <div className=\"bg-white rounded-lg border border-gray-100 p-6 shadow-md shadow-black/5\">\n                    <div className=\"flex justify-between items-start mb-6\">\n                      <div>\n                        {loading ? (\n                          <div className=\"h-9 w-20 bg-gray-200 rounded animate-pulse\" />\n                        ) : (\n                          <div className=\"text-3xl font-bold text-gray-900\">\n                            {stats.totalBlogs}\n                          </div>\n                        )}\n                        <p className=\"text-sm font-medium text-gray-500 mt-1\">\n                          Total Published Blogs\n                        </p>\n                      </div>\n                      <span className=\"text-4xl\">Pen</span>\n                    </div>\n                    <button\n                      onClick={() => setActiveTab(\"blogs\")}\n                      className=\"text-red-600 font-medium text-sm hover:text-red-700 transition\"\n                    >\n                      View all â†’\n                    </button>\n                  </div>\n\n                  <div className=\"bg-white rounded-lg border border-gray-100 p-6 shadow-md shadow-black/5\">\n                    <div className=\"flex justify-between items-start mb-6\">\n                      <div>\n                        {loading ? (\n                          <div className=\"h-9 w-20 bg-gray-200 rounded animate-pulse\" />\n                        ) : (\n                          <div className=\"text-3xl font-bold text-gray-900\">\n                            {stats.totalCategories}\n                          </div>\n                        )}\n                        <p className=\"text-sm font-medium text-gray-500 mt-1\">\n                          Categories\n                        </p>\n                      </div>\n                      <span className=\"text-4xl\">Folder</span>\n                    </div>\n                    <button\n                      onClick={() => setActiveTab(\"categories\")}\n                      className=\"text-red-600 font-medium text-sm hover:text-red-700 transition\"\n                    >\n                      View all â†’\n                    </button>\n                  </div>\n\n                  <div className=\"bg-white rounded-lg border border-gray-100 p-6 shadow-md shadow-black/5\">\n                    <div className=\"flex justify-between items-start mb-6\">\n                      <div>\n                        {loading ? (\n                          <div className=\"h-9 w-20 bg-gray-200 rounded animate-pulse\" />\n                        ) : (\n                          <div className=\"text-3xl font-bold text-gray-900\">\n                            {stats.totalLinks}\n                          </div>\n                        )}\n                        <p className=\"text-sm font-medium text-gray-500 mt-1\">\n                          Useful Links\n                        </p>\n                      </div>\n                      <span className=\"text-4xl\">Link</span>\n                    </div>\n                    <button\n                      onClick={() => setActiveTab(\"links\")}\n                      className=\"text-red-600 font-medium text-sm hover:text-red-700 transition\"\n                    >\n                      View all â†’\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"bg-white rounded-lg border border-gray-100 shadow-md shadow-black/5 p-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n                    Recent Activity\n                  </h3>\n                  <div className=\"text-sm text-gray-600\">\n                    {loading ? (\n                      <div className=\"space-y-3\">\n                        <div className=\"h-4 bg-gray-200 rounded animate-pulse\" />\n                        <div className=\"h-4 bg-gray-200 rounded animate-pulse w-5/6\" />\n                      </div>\n                    ) : (\n                      <p>Blog created or updated â€¢ Just now</p>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === \"blogs\" && <BlogManager />}\n            {activeTab === \"categories\" && <CategoryManager />}\n            {activeTab === \"links\" && <LinkManager />}\n            {activeTab === \"colors\" && <ColorManager />}\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}