{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/tamil/app/blog/%5Bslug%5D/page.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useEffect, useState } from \"react\"\nimport { useParams } from \"next/navigation\"\nimport { Heart, Star, MessageCircle, Eye } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport BlogCard from \"@/components/blog-card\"\n\nexport default function BlogDetailPage() {\n  // const params = useParams()\n  // const slug = params.slug as string\n  // const [blog, setBlog] = useState<any>(null)\n  // const [relatedBlogs, setRelatedBlogs] = useState([])\n  // const [loading, setLoading] = useState(true)\n  // const [commentAuthor, setCommentAuthor] = useState(\"\")\n  // const [commentText, setCommentText] = useState(\"\")\n  // const { toast } = useToast()\n\n  // useEffect(() => {\n  //   const fetchBlog = async () => {\n  //     try {\n  //       const response = await fetch(`/api/blogs/${slug}`)\n  //       const data = await response.json()\n  //       setBlog(data)\n\n  //       // Fetch related blogs from same category\n  //       if (data.categoryIds?.length > 0) {\n  //         const relatedRes = await fetch(`/api/blogs?category=${data.categoryIds[0]}&status=1`)\n  //         const relatedData = await relatedRes.json()\n  //         setRelatedBlogs(relatedData.blogs?.filter((b: any) => b.id !== data.id).slice(0, 3) || [])\n  //       }\n  //     } catch (error) {\n  //       console.error(\"Failed to fetch blog:\", error)\n  //       toast({ title: \"Error\", description: \"Failed to load blog\", variant: \"destructive\" })\n  //     } finally {\n  //       setLoading(false)\n  //     }\n  //   }\n\n  //   fetchBlog()\n  // }, [slug, toast])\n\n  // const handleLike = async () => {\n  //   if (!blog) return\n  //   try {\n  //     const response = await fetch(`/api/blogs/${blog.id}/like`, { method: \"POST\" })\n  //     const data = await response.json()\n  //     setBlog({ ...blog, likes: data.likes })\n  //     toast({ title: \"Success\", description: \"Liked!\" })\n  //   } catch (error) {\n  //     toast({ title: \"Error\", description: \"Failed to like\", variant: \"destructive\" })\n  //   }\n  // }\n\n  // const handleAddComment = async (e: React.FormEvent) => {\n  //   e.preventDefault()\n  //   if (!commentAuthor || !commentText) {\n  //     toast({ title: \"Error\", description: \"Please fill all fields\", variant: \"destructive\" })\n  //     return\n  //   }\n\n  //   try {\n  //     const response = await fetch(`/api/blogs/${blog.id}/comment`, {\n  //       method: \"POST\",\n  //       headers: { \"Content-Type\": \"application/json\" },\n  //       body: JSON.stringify({ author: commentAuthor, text: commentText }),\n  //     })\n\n  //     if (response.ok) {\n  //       const newComment = await response.json()\n  //       setBlog({\n  //         ...blog,\n  //         comments: [...(blog.comments || []), newComment],\n  //       })\n  //       setCommentAuthor(\"\")\n  //       setCommentText(\"\")\n  //       toast({ title: \"Success\", description: \"Comment added!\" })\n  //     }\n  //   } catch (error) {\n  //     toast({ title: \"Error\", description: \"Failed to add comment\", variant: \"destructive\" })\n  //   }\n  // }\n\n  // if (loading) {\n  //   return <div className=\"text-center py-20\">Loading...</div>\n  // }\n\n  // if (!blog) {\n  //   return <div className=\"text-center py-20 text-gray-600\">Blog not found</div>\n  // }\n\n  return (\n    // <div className=\"min-h-screen bg-white\">\n    //   <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n    //     <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-12\">\n    //       {/* Main Content */}\n    //       <div className=\"lg:col-span-2\">\n    //         {/* Header */}\n    //         <div className=\"mb-8\">\n    //           <h1 className=\"text-4xl font-bold mb-4\">{blog.title}</h1>\n    //           <div className=\"flex flex-wrap items-center gap-6 text-gray-600 mb-6 pb-6 border-b border-gray-200\">\n    //             <span className=\"font-semibold\">{blog.author}</span>\n    //             <span>{new Date(blog.createdAt).toLocaleDateString()}</span>\n    //             <div className=\"flex items-center gap-2\">\n    //               <Eye size={18} />\n    //               <span>{blog.views || 0} views</span>\n    //             </div>\n    //           </div>\n    //         </div>\n\n    //         {/* Featured Image */}\n    //         {blog.images?.[0] && (\n    //           <div className=\"mb-8 rounded-lg overflow-hidden\">\n    //             <img src={blog.images[0] || \"/placeholder.svg\"} alt={blog.title} className=\"w-full h-96 object-cover\" />\n    //           </div>\n    //         )}\n\n    //         {/* Content */}\n    //         <div className=\"prose prose-lg max-w-none mb-12\" dangerouslySetInnerHTML={{ __html: blog.contentHtml }} />\n\n    //         {/* Video */}\n    //         {blog.video && (\n    //           <div className=\"mb-12 rounded-lg overflow-hidden\">\n    //             <video controls className=\"w-full\" src={blog.video} />\n    //           </div>\n    //         )}\n\n    //         {/* Image Gallery */}\n    //         {blog.images?.length > 1 && (\n    //           <div className=\"mb-12\">\n    //             <h3 className=\"text-2xl font-bold mb-4\">Gallery</h3>\n    //             <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n    //               {blog.images.map((img: string, idx: number) => (\n    //                 <img\n    //                   key={idx}\n    //                   src={img || \"/placeholder.svg\"}\n    //                   alt={`Gallery ${idx}`}\n    //                   className=\"rounded-lg w-full h-40 object-cover\"\n    //                 />\n    //               ))}\n    //             </div>\n    //           </div>\n    //         )}\n\n    //         {/* Engagement */}\n    //         <div className=\"bg-gray-50 rounded-lg p-6 mb-12\">\n    //           <h3 className=\"font-bold mb-4\">Engagement</h3>\n    //           <div className=\"flex flex-wrap gap-4\">\n    //             <Button variant=\"outline\" size=\"sm\" onClick={handleLike} className=\"gap-2 bg-transparent\">\n    //               <Heart size={18} />\n    //               {blog.likes || 0} Likes\n    //             </Button>\n    //             <div className=\"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md\">\n    //               <Star size={18} className=\"text-yellow-500\" fill=\"currentColor\" />\n    //               <span>{(blog.stars || 0).toFixed(1)}</span>\n    //             </div>\n    //             <div className=\"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md\">\n    //               <MessageCircle size={18} />\n    //               <span>{blog.comments?.length || 0} Comments</span>\n    //             </div>\n    //           </div>\n    //         </div>\n\n    //         {/* Comments Section */}\n    //         <div className=\"mb-12\">\n    //           <h3 className=\"text-2xl font-bold mb-6\">Comments</h3>\n\n    //           {/* Add Comment Form */}\n    //           <form onSubmit={handleAddComment} className=\"bg-gray-50 rounded-lg p-6 mb-8\">\n    //             <div className=\"mb-4\">\n    //               <label className=\"block text-sm font-medium mb-2\">Name</label>\n    //               <input\n    //                 type=\"text\"\n    //                 value={commentAuthor}\n    //                 onChange={(e) => setCommentAuthor(e.target.value)}\n    //                 className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500\"\n    //                 placeholder=\"Your name\"\n    //               />\n    //             </div>\n    //             <div className=\"mb-4\">\n    //               <label className=\"block text-sm font-medium mb-2\">Comment</label>\n    //               <textarea\n    //                 value={commentText}\n    //                 onChange={(e) => setCommentText(e.target.value)}\n    //                 className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 min-h-24 resize-none\"\n    //                 placeholder=\"Write your comment here...\"\n    //               />\n    //             </div>\n    //             <Button type=\"submit\" variant=\"default\">\n    //               Post Comment\n    //             </Button>\n    //           </form>\n\n    //           {/* Comments List */}\n    //           <div className=\"space-y-4\">\n    //             {blog.comments?.map((comment: any) => (\n    //               <div key={comment.id} className=\"border border-gray-200 rounded-lg p-4\">\n    //                 <div className=\"flex items-center justify-between mb-2\">\n    //                   <h4 className=\"font-bold\">{comment.author}</h4>\n    //                   <span className=\"text-sm text-gray-500\">{new Date(comment.createdAt).toLocaleDateString()}</span>\n    //                 </div>\n    //                 <p className=\"text-gray-700\">{comment.text}</p>\n    //               </div>\n    //             ))}\n    //           </div>\n    //         </div>\n    //       </div>\n\n    //       {/* Sidebar - Related Posts */}\n    //       <div className=\"lg:col-span-1\">\n    //         <div className=\"sticky top-20\">\n    //           <h3 className=\"text-xl font-bold mb-6\">Related Posts</h3>\n    //           <div className=\"space-y-4\">\n    //             {relatedBlogs.map((relatedBlog: any) => (\n    //               <BlogCard key={relatedBlog.id} blog={relatedBlog} />\n    //             ))}\n    //           </div>\n    //         </div>\n    //       </div>\n    //     </div>\n    //   </div>\n    // </div>\n    <>\n    jgsdjhgkj\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}