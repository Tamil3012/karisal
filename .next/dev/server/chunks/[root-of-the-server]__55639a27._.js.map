{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/karisal/lib/file-utils.ts"],"sourcesContent":["import { promises as fs } from \"fs\"\nimport path from \"path\"\n\nconst dataDir = path.join(process.cwd(), \"data\")\n\nexport async function readJsonFile(filename: string) {\n  try {\n    const filePath = path.join(dataDir, filename)\n    const data = await fs.readFile(filePath, \"utf-8\")\n    return JSON.parse(data)\n  } catch (error) {\n    console.error(`Error reading ${filename}:`, error)\n    return null\n  }\n}\n\nexport async function writeJsonFile(filename: string, data: any) {\n  try {\n    const filePath = path.join(dataDir, filename)\n    // Ensure data directory exists\n    await fs.mkdir(dataDir, { recursive: true })\n    // Write with formatting\n    await fs.writeFile(filePath, JSON.stringify(data, null, 2))\n    return true\n  } catch (error) {\n    console.error(`Error writing ${filename}:`, error)\n    return false\n  }\n}\n\nexport async function ensureUploadsDir() {\n  const uploadsDir = path.join(process.cwd(), \"public\", \"uploads\")\n  await fs.mkdir(uploadsDir, { recursive: true })\n}\n\nexport function generateId() {\n  return Date.now().toString(36) + Math.random().toString(36).substr(2)\n}\n\nexport function generateSlug(title: string) {\n  return title\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, \"\")\n    .replace(/\\s+/g, \"-\")\n    .replace(/-+/g, \"-\")\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,UAAU,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAElC,eAAe,aAAa,QAAgB;IACjD,IAAI;QACF,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,SAAS;QACpC,MAAM,OAAO,MAAM,yGAAE,CAAC,QAAQ,CAAC,UAAU;QACzC,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC,EAAE;QAC5C,OAAO;IACT;AACF;AAEO,eAAe,cAAc,QAAgB,EAAE,IAAS;IAC7D,IAAI;QACF,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,SAAS;QACpC,+BAA+B;QAC/B,MAAM,yGAAE,CAAC,KAAK,CAAC,SAAS;YAAE,WAAW;QAAK;QAC1C,wBAAwB;QACxB,MAAM,yGAAE,CAAC,SAAS,CAAC,UAAU,KAAK,SAAS,CAAC,MAAM,MAAM;QACxD,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC,EAAE;QAC5C,OAAO;IACT;AACF;AAEO,eAAe;IACpB,MAAM,aAAa,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,UAAU;IACtD,MAAM,yGAAE,CAAC,KAAK,CAAC,YAAY;QAAE,WAAW;IAAK;AAC/C;AAEO,SAAS;IACd,OAAO,KAAK,GAAG,GAAG,QAAQ,CAAC,MAAM,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC;AACrE;AAEO,SAAS,aAAa,KAAa;IACxC,OAAO,MACJ,WAAW,GACX,IAAI,GACJ,OAAO,CAAC,aAAa,IACrB,OAAO,CAAC,QAAQ,KAChB,OAAO,CAAC,OAAO;AACpB"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///E:/v2%20E-com/karisal/app/api/blogs/route.ts"],"sourcesContent":["// app/api/blogs/route.ts\nimport { readJsonFile } from \"@/lib/file-utils\"\nimport { type NextRequest, NextResponse } from \"next/server\"\n\nexport async function GET(request: NextRequest) {\n  try {\n    const blogs = await readJsonFile(\"blog.json\")\n    if (!blogs) {\n      return NextResponse.json({ error: \"Blogs not found\" }, { status: 404 })\n    }\n\n    const searchParams = request.nextUrl.searchParams\n    const status = searchParams.get(\"status\")\n    const featured = searchParams.get(\"featured\")\n    const category = searchParams.get(\"category\")\n    const page = Number.parseInt(searchParams.get(\"page\") || \"1\")\n    const limit = Number.parseInt(searchParams.get(\"limit\") || \"10\")\n\n    let filtered = blogs\n\n    if (status) filtered = filtered.filter((b: any) => b.status === Number.parseInt(status))\n    if (featured) filtered = filtered.filter((b: any) => b.featured === Number.parseInt(featured))\n    if (category) filtered = filtered.filter((b: any) => b.categoryIds?.includes(category))\n\n    const total = filtered.length\n    const start = (page - 1) * limit\n    const paginated = filtered.slice(start, start + limit)\n\n    return NextResponse.json({\n      blogs: paginated,\n      total,\n      page,\n      limit,\n      pages: Math.ceil(total / limit),\n    })\n  } catch (error) {\n    console.error(error)\n    return NextResponse.json({ error: \"Failed to fetch blogs\" }, { status: 500 })\n  }\n}"],"names":[],"mappings":"AAAA,yBAAyB;;;;;AACzB;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,QAAQ,MAAM,IAAA,sIAAY,EAAC;QACjC,IAAI,CAAC,OAAO;YACV,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAkB,GAAG;gBAAE,QAAQ;YAAI;QACvE;QAEA,MAAM,eAAe,QAAQ,OAAO,CAAC,YAAY;QACjD,MAAM,SAAS,aAAa,GAAG,CAAC;QAChC,MAAM,WAAW,aAAa,GAAG,CAAC;QAClC,MAAM,WAAW,aAAa,GAAG,CAAC;QAClC,MAAM,OAAO,OAAO,QAAQ,CAAC,aAAa,GAAG,CAAC,WAAW;QACzD,MAAM,QAAQ,OAAO,QAAQ,CAAC,aAAa,GAAG,CAAC,YAAY;QAE3D,IAAI,WAAW;QAEf,IAAI,QAAQ,WAAW,SAAS,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK,OAAO,QAAQ,CAAC;QAChF,IAAI,UAAU,WAAW,SAAS,MAAM,CAAC,CAAC,IAAW,EAAE,QAAQ,KAAK,OAAO,QAAQ,CAAC;QACpF,IAAI,UAAU,WAAW,SAAS,MAAM,CAAC,CAAC,IAAW,EAAE,WAAW,EAAE,SAAS;QAE7E,MAAM,QAAQ,SAAS,MAAM;QAC7B,MAAM,QAAQ,CAAC,OAAO,CAAC,IAAI;QAC3B,MAAM,YAAY,SAAS,KAAK,CAAC,OAAO,QAAQ;QAEhD,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,OAAO;YACP;YACA;YACA;YACA,OAAO,KAAK,IAAI,CAAC,QAAQ;QAC3B;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC;QACd,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC7E;AACF"}}]
}