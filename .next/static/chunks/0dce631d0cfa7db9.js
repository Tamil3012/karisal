(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2257,90597,70273,94983,e=>{"use strict";var s=e.i(43476),l=e.i(22016),a=e.i(75254);let t=(0,a.default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);e.s(["Heart",()=>t],90597);let r=(0,a.default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>r],70273);let i=(0,a.default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);function c({blog:e}){let a=e.images?.[0]||"/blog-post.jpg";return(0,s.jsx)(l.default,{href:`/blog/${e.slug}`,children:(0,s.jsxs)("div",{className:"rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow bg-white h-full flex flex-col",children:[(0,s.jsx)("div",{className:"relative w-full h-48 overflow-hidden bg-gray-200",children:(0,s.jsx)("img",{src:a||"/placeholder.svg",alt:e.title,className:"w-full h-full object-cover hover:scale-105 transition-transform"})}),(0,s.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:e.excerpt}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[(0,s.jsx)("span",{children:e.author}),(0,s.jsxs)("span",{children:[e.views||0," views"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,s.jsx)(t,{size:16,fill:"currentColor"}),(0,s.jsx)("span",{className:"text-sm",children:e.likes||0})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-yellow-500",children:[(0,s.jsx)(r,{size:16,fill:"currentColor"}),(0,s.jsx)("span",{className:"text-sm",children:(e.stars||0).toFixed(1)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,s.jsx)(i,{size:16}),(0,s.jsx)("span",{className:"text-sm",children:e.comments?.length||0})]})]})]})]})})}e.s(["MessageCircle",()=>i],94983),e.s(["default",()=>c],2257)},86536,e=>{"use strict";let s=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},37046,e=>{"use strict";var s=e.i(43476),l=e.i(71645),a=e.i(18566),t=e.i(90597),r=e.i(70273),i=e.i(94983),c=e.i(86536),d=e.i(67881),n=e.i(20682),o=e.i(2257);function m(){let e=(0,a.useParams)().slug,[m,x]=(0,l.useState)(null),[h,g]=(0,l.useState)([]),[u,p]=(0,l.useState)(!0),[j,f]=(0,l.useState)(""),[b,v]=(0,l.useState)(""),{toast:y}=(0,n.useToast)();(0,l.useEffect)(()=>{(async()=>{try{let s=await fetch(`/api/blogs/${e}`),l=await s.json();if(x(l),l.categoryIds?.length>0){let e=await fetch(`/api/blogs?category=${l.categoryIds[0]}&status=1`),s=await e.json();g(s.blogs?.filter(e=>e.id!==l.id).slice(0,3)||[])}}catch(e){console.error("Failed to fetch blog:",e),y({title:"Error",description:"Failed to load blog",variant:"destructive"})}finally{p(!1)}})()},[e,y]);let N=async()=>{if(m)try{let e=await fetch(`/api/blogs/${m.id}/like`,{method:"POST"}),s=await e.json();x({...m,likes:s.likes}),y({title:"Success",description:"Liked!"})}catch(e){y({title:"Error",description:"Failed to like",variant:"destructive"})}},w=async e=>{if(e.preventDefault(),!j||!b)return void y({title:"Error",description:"Please fill all fields",variant:"destructive"});try{let e=await fetch(`/api/blogs/${m.id}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:j,text:b})});if(e.ok){let s=await e.json();x({...m,comments:[...m.comments||[],s]}),f(""),v(""),y({title:"Success",description:"Comment added!"})}}catch(e){console.log("errorerrorerrorerror",e),y({title:"Error",description:"Failed to add comment",variant:"destructive"})}};return u?(0,s.jsx)("div",{className:"text-center py-20",children:"Loading..."}):m?(console.log("Blog Data:",m),(0,s.jsx)("div",{className:"min-h-screen bg-white",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[(0,s.jsxs)("div",{className:"lg:col-span-2",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4",children:m.title}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-6 text-gray-600 mb-6 pb-6 border-b border-gray-200",children:[(0,s.jsx)("span",{className:"font-semibold",children:m.author}),(0,s.jsx)("span",{children:new Date(m.createdAt).toLocaleDateString()}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.Eye,{size:18}),(0,s.jsxs)("span",{children:[m.views||0," views"]})]})]})]}),m.images?.[0]&&(0,s.jsx)("div",{className:"mb-8 rounded-lg overflow-hidden",children:(0,s.jsx)("img",{src:m.images[0]||"/placeholder.svg",alt:m.title,className:"w-full h-96 object-cover"})}),(0,s.jsx)("div",{className:"prose prose-lg max-w-none mb-12",dangerouslySetInnerHTML:{__html:m.contentHtml}}),m.video&&(0,s.jsx)("div",{className:"mb-12 rounded-lg overflow-hidden",children:(0,s.jsx)("video",{controls:!0,className:"w-full",src:m.video})}),m.images?.length>1&&(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Gallery"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:m.images.map((e,l)=>(0,s.jsx)("img",{src:e||"/placeholder.svg",alt:`Gallery ${l}`,className:"rounded-lg w-full h-40 object-cover"},l))})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 mb-12",children:[(0,s.jsx)("h3",{className:"font-bold mb-4",children:"Engagement"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,s.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:N,className:"gap-2 bg-transparent",children:[(0,s.jsx)(t.Heart,{size:18}),m.likes||0," Likes"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md",children:[(0,s.jsx)(r.Star,{size:18,className:"text-yellow-500",fill:"currentColor"}),(0,s.jsx)("span",{children:(m.stars||0).toFixed(1)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md",children:[(0,s.jsx)(i.MessageCircle,{size:18}),(0,s.jsxs)("span",{children:[m.comments?.length||0," Comments"]})]})]})]}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Comments"}),(0,s.jsxs)("form",{onSubmit:w,className:"bg-gray-50 rounded-lg p-6 mb-8",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Name"}),(0,s.jsx)("input",{type:"text",value:j,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Your name"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Comment"}),(0,s.jsx)("textarea",{value:b,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 min-h-24 resize-none",placeholder:"Write your comment here..."})]}),(0,s.jsx)(d.Button,{type:"submit",variant:"default",children:"Post Comment"})]}),(0,s.jsx)("div",{className:"space-y-4",children:m.comments?.map(e=>(0,s.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h4",{className:"font-bold",children:e.author}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,s.jsx)("p",{className:"text-gray-700",children:e.text})]},e.id))})]})]}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"sticky top-20",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-6",children:"Related Posts"}),(0,s.jsx)("div",{className:"space-y-4",children:h.map(e=>(0,s.jsx)(o.default,{blog:e},e.id))})]})})]})})})):(0,s.jsx)("div",{className:"text-center py-20 text-gray-600",children:"Blog not found"})}e.s(["default",()=>m])}]);